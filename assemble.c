#include "aqcc.h"

ObjectImage *assemble_code(Vector *code) { return NULL; }

void write_byte(int val0, FILE *fh) { fputc(val0, fh); }

void write_word(int val0, int val1, FILE *fh)
{
    write_byte(val0, fh);
    write_byte(val1, fh);
}

void write_dword(int val0, int val1, int val2, int val3, FILE *fh)
{
    write_word(val0, val1, fh);
    write_word(val2, val3, fh);
}

void write_qword(int val0, int val1, int val2, int val3, int val4, int val5,
                 int val6, int val7, FILE *fh)
{
    write_dword(val0, val1, val2, val3, fh);
    write_dword(val4, val5, val6, val7, fh);
}

void dump_object_image(ObjectImage *objimg, FILE *fh)
{
    /*
        .text
        .global main
        main:
            mov $100, %rax
            ret
        .data
    */

    write_qword(0x7f, 0x45, 0x4c, 0x46, 0x02, 0x01, 0x01, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x3e, 0x00, 0x01, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x40, 0x00, 0x07, 0x00, 0x06, 0x00, fh);
    write_qword(0x48, 0xc7, 0xc0, 0x64, 0x00, 0x00, 0x00, 0xc3, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x01, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x02, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x03, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x01, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x6d, 0x61, 0x69, 0x6e, 0x00, 0x00, 0x2e, fh);
    write_qword(0x73, 0x79, 0x6d, 0x74, 0x61, 0x62, 0x00, 0x2e, fh);
    write_qword(0x73, 0x74, 0x72, 0x74, 0x61, 0x62, 0x00, 0x2e, fh);
    write_qword(0x73, 0x68, 0x73, 0x74, 0x72, 0x74, 0x61, 0x62, fh);
    write_qword(0x00, 0x2e, 0x74, 0x65, 0x78, 0x74, 0x00, 0x2e, fh);
    write_qword(0x64, 0x61, 0x74, 0x61, 0x00, 0x2e, 0x62, 0x73, fh);
    write_qword(0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x1b, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, fh);
    write_qword(0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x21, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, fh);
    write_qword(0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x27, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, fh);
    write_qword(0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x05, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, fh);
    write_qword(0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x09, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x11, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0xc6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x2c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
    write_qword(0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, fh);
}
